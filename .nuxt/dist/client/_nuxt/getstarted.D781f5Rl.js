import{_ as f}from"./nuxt-link.0FygG8mI.js";import{b as V,_ as $}from"./MessageComponent.w43ggl5i.js";import{_ as E,K as A,z as L,B as p,L as v,H as N,I as T,o as a,c as I,a as o,M as d,b as l,E as M,d as m,t as g,w,p as O,e as F,F as k,C,N as b,O as P}from"./entry.wyuOqA8i.js";import"./IconComponent.1bf1oF13.js";import"./colorUtilities.lG8L7g3H.js";function G(e){let s=0;if(e){const t=/[a-z]/.test(e),u=/[A-Z]/.test(e),h=/\d/.test(e),_=/\W/.test(e),r=e.length>=8;return t&&s++,u&&s++,h&&s++,_&&s++,r&&s++,s<=2?1:s<=4?2:3}return 0}const D={DONE:"DONE",SOMETHING_WENT_WRONG:"SOMETHING_WENT_WRONG",EMAIL_IS_EXIST:"EMAIL_IS_EXIST",USER_REGISTRATION_FAILED:"USER_REGISTRATION_FAILED",USER_SUCCESSFULLY_REGISTERED:"USER_SUCCESSFULLY_REGISTERED",EMAIL_IS_NOT_VALID:"EMAIL_IS_NOT_VALID",INVALID_EMAIL:"INVALID_EMAIL",INVALID_PASSWORD:"INVALID_PASSWORD",INVALID_FULLNAME:"INVALID_FULLNAME",INVALID_TOKEN:"INVALID_TOKEN",BCRYPT_ERROR:"BCRYPT_ERROR",USER_LOGIN_PROGRESS_FAILED:"USER_LOGIN_PROGRESS_FAILED",USER_SUCCESSFULLY_LOGIN:"USER_SUCCESSFULLY_LOGIN",EMAIL_IS_NOT_REGISTERED:"EMAIL_IS_NOT_REGISTERED",EMAIL_OR_PASSWORD_INCORRECT:"EMAIL_OR_PASSWORD_INCORRECT"},R=A.defaultResponses.signup(),z=L({name:"SignUp",data(){return{termsOfService:{html:this.$t("get_started.sign_up.terms_of_service"),value:!1},readyForView:!1,submitIsLoading:!1,redirectToLoginTimeId:null,signupResponse:R,messages:D}},computed:{passwordStrength(){return this.evaluatePasswordStrength(this.modelSignup.password)},readyForSubmit(){let e=!1,{fullname:s,password:t,email:u}=this.modelSignup;return s&&t&&u&&this.passwordStrength>1&&(e=!0),this.signupProgressStatus===!1&&(e=!1),e},modelSignup(){const{modelSignup:e}=p();return e},signupProgressStatus(){return this.signupResponse.success},showFullnameInputError(){let e=null;return this.signupProgressStatus===!1&&this.signupResponse.message===this.messages.INVALID_FULLNAME&&(e=this.backendMessage(this.messages.INVALID_FULLNAME)),e},showEmailInputError(){let e=null;return this.signupProgressStatus===!1&&(this.signupResponse.message===this.messages.EMAIL_IS_EXIST?e=this.backendMessage(this.messages.EMAIL_IS_EXIST):this.signupResponse.message===this.messages.INVALID_EMAIL&&(e=this.backendMessage(this.messages.INVALID_EMAIL))),e}},unmounted(){this.resetModel(),clearTimeout(this.redirectToLoginTimeId)},methods:{backendMessage:v,evaluatePasswordStrength:G,async submit(){this.submitIsLoading=!0;const{submitSignup:e,modelLogin:s}=p();await e().then(t=>{this.signupResponse={...t},this.signupProgressStatus&&(s.email=this.modelSignup.email,this.redirectToLoginTimeId=setTimeout(()=>{this.$router.push("?view=log_in"),clearTimeout(this.redirectToLoginTimeId)},2e3))}).catch(t=>{this.signupResponse={...t}}).finally(()=>{this.submitIsLoading=!1})},resetModel(){const{resetModelSignup:e}=p();e()},setReadyForView(e){this.readyForView=e}},watch:{modelSignup:{handler(e){this.signupResponse=R,clearTimeout(this.redirectToLoginTimeId),Object.keys(this.modelSignup).forEach(s=>{var t;this.modelSignup[s]=(t=this.modelSignup[s])==null?void 0:t.trim()})},deep:!0}}}),S=e=>(O("data-v-2eeca6b5"),e=e(),F(),e),W={id:"sign-up-page",class:"flex-column-center"},q={class:"message-box"},B={class:"input-group"},Y=S(()=>o("br",null,null,-1)),X=S(()=>o("br",null,null,-1)),H=S(()=>o("br",null,null,-1)),K={class:"already-have-account"},j=S(()=>o("br",null,null,-1));function J(e,s,t,u,h,_){const r=V,i=$,c=f;return N((a(),I("div",W,[o("form",{class:"sign-up-form",onSubmit:s[4]||(s[4]=M((...n)=>e.submit&&e.submit(...n),["prevent"]))},[o("div",q,[e.signupProgressStatus?(a(),d(r,{key:0,type:"success",message:e.backendMessage(e.signupResponse.message)},null,8,["message"])):e.showEmailInputError||e.showFullnameInputError?(a(),d(r,{key:1,type:"error",message:e.backendMessage(e.messages.USER_REGISTRATION_FAILED)},null,8,["message"])):e.signupProgressStatus===!1?(a(),d(r,{key:2,type:"error",message:e.backendMessage(e.signupResponse.message)},null,8,["message"])):(a(),d(r,{key:3,"hide-icon":"",type:"info",message:e.$t("get_started.sign_up.welcome_message")},null,8,["message"]))]),o("div",B,[l(i,{id:"fullname-input",type:"text",name:"fullname",autocomplete:"name",placeholder:"John Doe",modelValue:e.modelSignup.fullname,"onUpdate:modelValue":s[0]||(s[0]=n=>e.modelSignup.fullname=n),maxlength:"50",label:e.$t("get_started.sign_up.fullname"),"left-icon":{icon:"person",size:"2.5rem"},"input-size":{width:"100%",height:"4rem"},"show-error":{message:e.showFullnameInputError,highlight:!!e.showFullnameInputError},required:"",clearable:""},null,8,["modelValue","label","show-error"]),Y,l(i,{id:"email-input",type:"email",name:"email",autocomplete:"email",placeholder:"example@domain.com",modelValue:e.modelSignup.email,"onUpdate:modelValue":s[1]||(s[1]=n=>e.modelSignup.email=n),label:e.$t("get_started.sign_up.email"),"left-icon":{icon:"alternate_email",size:"2.5rem"},"input-size":{width:"100%",height:"4rem"},"show-error":{message:e.showEmailInputError,highlight:!!e.showEmailInputError},required:"",clearable:""},null,8,["modelValue","label","show-error"]),X,l(i,{id:"password-input",type:"password",name:"password",autocomplete:"new-password",modelValue:e.modelSignup.password,"onUpdate:modelValue":s[2]||(s[2]=n=>e.modelSignup.password=n),label:e.$t("get_started.sign_up.password"),"left-icon":{icon:"lock",size:"2.5rem"},"input-size":{width:"100%",height:"4rem"},"show-error":{message:e.passwordStrength===1?e.$t("get_started.sign_up.password_levels.weak"):null,highlight:e.passwordStrength===1},"show-warning":{message:e.passwordStrength===2?e.$t("get_started.sign_up.password_levels.moderate"):null,highlight:e.passwordStrength===2},"show-success":{message:e.passwordStrength===3?e.$t("get_started.sign_up.password_levels.strong"):null},required:"",clearable:""},null,8,["modelValue","label","show-error","show-warning","show-success"]),H,l(i,{id:"terms-of-service",name:"terms-of-service",type:"checkbox","html-label":e.termsOfService.html,required:"",modelValue:e.termsOfService.value,"onUpdate:modelValue":s[3]||(s[3]=n=>e.termsOfService.value=n)},null,8,["html-label","modelValue"])]),l(i,{id:"submit-btn",type:"submit",onReadyForView:e.setReadyForView,label:e.$t("get_started.sign_up.submit_btn"),"button-type":"1","left-icon":{icon:"lock"},"input-size":{width:"100%",height:"3.5rem"},disabled:!e.readyForSubmit,"is-loading":e.submitIsLoading},null,8,["onReadyForView","label","disabled","is-loading"])],32),o("span",K,[m(g(e.$t("get_started.sign_up.already_have_account"))+" ",1),l(c,{to:"?view=log_in",class:"decoration"},{default:w(()=>[m(g(e.$t("get_started.sign_up.log_in")),1)]),_:1})]),j],512)),[[T,e.readyForView]])}const Z=E(z,[["render",J],["__scopeId","data-v-2eeca6b5"]]),y=A.defaultResponses.login(),Q=L({name:"LogIn",computed:{readyForSubmit(){let e=!1,{password:s,email:t}=this.modelLogin;return s&&t&&(e=!0),e},modelLogin(){const{modelLogin:e}=p();return e},loginProgressStatus(){return this.loginResponse.success},showEmailInputError(){let e=null;return this.loginProgressStatus===!1&&this.loginResponse.message===this.messages.INVALID_EMAIL&&(e=this.backendMessage(this.messages.INVALID_EMAIL)),e}},data:()=>({readyForView:!1,submitIsLoading:!1,loginResponse:y,messages:D}),unmounted(){this.resetModel()},methods:{backendMessage:v,async submit(){this.submitIsLoading=!0;const{submitLogin:e,authUser:s,afterAuthPath:t}=p();await e().then(async u=>{this.loginResponse={...u},this.loginResponse.success&&await s().then(()=>this.$router.push(t)).finally(()=>this.submitIsLoading=!1)}).catch(u=>{this.loginResponse={...u}}).finally(()=>{this.submitIsLoading=!1})},resetModel(){const{resetModelLogin:e}=p();e()},setReadyForView(e){this.readyForView=e}},watch:{modelLogin:{handler(e){this.loginResponse=y,Object.keys(this.modelLogin).forEach(s=>{var t;this.modelLogin[s]=(t=this.modelLogin[s])==null?void 0:t.trim()})},deep:!0}}}),U=e=>(O("data-v-c175a761"),e=e(),F(),e),x={id:"log-in-page",class:"flex-column-center"},ee={class:"message-box"},se={class:"input-group"},te=U(()=>o("br",null,null,-1)),oe={class:"forget-password-area"},ie={class:"no-account-yet"},ne=U(()=>o("br",null,null,-1));function ae(e,s,t,u,h,_){const r=V,i=$,c=f;return N((a(),I("div",x,[o("form",{class:"log-in-form",onSubmit:s[2]||(s[2]=M((...n)=>e.submit&&e.submit(...n),["prevent"]))},[o("div",ee,[!e.showEmailInputError&&e.loginProgressStatus===!1?(a(),d(r,{key:0,type:"error",message:e.backendMessage(e.loginResponse.message)},null,8,["message"])):(a(),d(r,{key:1,"hide-icon":"",type:"info",message:e.$t("get_started.log_in.welcome_message")},null,8,["message"]))]),o("div",se,[l(i,{id:"email-input",type:"email",name:"email",placeholder:"example@domain.com",modelValue:e.modelLogin.email,"onUpdate:modelValue":s[0]||(s[0]=n=>e.modelLogin.email=n),autocomplete:"email",label:e.$t("get_started.log_in.email"),"left-icon":{icon:"alternate_email",size:"2.5rem"},"input-size":{width:"100%",height:"4rem"},"show-error":{message:e.showEmailInputError,highlight:!!e.showEmailInputError},required:"",clearable:""},null,8,["modelValue","label","show-error"]),te,l(i,{id:"password-input",type:"password",name:"password",autocomplete:"current-password",modelValue:e.modelLogin.password,"onUpdate:modelValue":s[1]||(s[1]=n=>e.modelLogin.password=n),label:e.$t("get_started.log_in.password"),"left-icon":{icon:"lock",size:"2.5rem"},"input-size":{width:"100%",height:"4rem"},required:"",clearable:""},null,8,["modelValue","label"]),o("div",oe,[l(c,{to:"/forgot_password",class:"decoration"},{default:w(()=>[m(g(e.$t("get_started.log_in.forget_password")),1)]),_:1})])]),l(i,{id:"submit-btn",type:"submit",label:e.$t("get_started.log_in.submit_btn"),onReadyForView:e.setReadyForView,"left-icon":{icon:"lock"},"input-size":{width:"100%",height:"3.5rem"},"is-loading":e.submitIsLoading,disabled:!e.readyForSubmit},null,8,["label","onReadyForView","is-loading","disabled"])],32),o("span",ie,[m(g(e.$t("get_started.log_in.no_account_yet"))+" ",1),l(c,{to:"?view=sign_up",class:"decoration"},{default:w(()=>[m(g(e.$t("get_started.log_in.sign_up")),1)]),_:1}),m(" "+g(e.$t("get_started.log_in.now").toLowerCase())+"! ",1)]),ne],512)),[[T,e.readyForView]])}const re=E(Q,[["render",ae],["__scopeId","data-v-c175a761"]]),le=L({name:"get-started",components:{sign_up:Z,log_in:re},data:()=>({views:["log_in","sign_up"]}),computed:{currentView(){let{view:e}=this.$route.query;return e&&this.views.includes(e==null?void 0:e.toString())?e:(this.$router.push("?view=log_in"),null)}}}),ue={id:"getstarted-page"},de={class:"getstarted-container default-container"},me={id:"getstarted-views-nav",class:"flex-row-center"};function ge(e,s,t,u,h,_){const r=f;return a(),I("div",ue,[o("div",de,[o("nav",me,[(a(!0),I(k,null,C(e.views,i=>(a(),d(r,{class:b(["flex-row-center",{active:i===e.currentView}]),id:i,key:i,to:`?view=${i}`},{default:w(()=>[m(g(e.$t(`pages.${i}`)),1)]),_:2},1032,["id","class","to"]))),128))]),o("section",{id:"getstarted-layout",class:b([`${e.currentView}-area`,"default-container"])},[(a(),d(P(e.currentView)))],2)])])}const we=E(le,[["render",ge]]);export{we as default};
